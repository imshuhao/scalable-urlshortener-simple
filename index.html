<!DOCTYPE html>
<html>
	<body>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
		<script >
			$(document).on('submit', '.getForm', function(e) {
				let short = $("#shortval").val();
				window.location.href = short;
				e.preventDefault();
			});
			$(document).on('submit', '.putForm', function(e) {
				$.ajax({
					url: '/?'+ $(this).serialize(),
					type: "PUT",
					data: $(this).serialize(),
					// data: $('.putForm').serialize(),
					success: function(html) {
						$('#put_result').text("success");
					},
					error: function(res) {
						$('#put_result').text(res.statusText);
					}, 
				});
				e.preventDefault();
			});
        </script>

		<h1>Redirect Me</h1>
        <form class="getForm">
			<input id="shortval" name="shortval" type="text" size="30"></input>
			<Button type="submit">Jump</Button>
		</form>

		<h1>PUT</h1>
		<form class="putForm">
			<label for="short">Short</label>
			<input id="short" name="short" type="text" size="50" style="margin-bottom: 10px"></input>
			<br><label for="long">Long</label>
			<input id="long" name="long" type="text" size="100"></input>

			<Button type="submit">Put</Button>
		</form>
		<textarea id="put_result" rows="4" cols="80" readonly></textarea>
	</body>
</html>